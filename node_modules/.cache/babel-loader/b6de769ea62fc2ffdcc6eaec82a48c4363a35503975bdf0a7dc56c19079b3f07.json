{"ast":null,"code":"import axios from'axios';// Helper function to get CSRF token from cookies\nconst getCSRFToken=()=>{var _document$cookie$spli;const cookieValue=(_document$cookie$spli=document.cookie.split('; ').find(row=>row.startsWith('csrftoken=')))===null||_document$cookie$spli===void 0?void 0:_document$cookie$spli.split('=')[1];return cookieValue;};const api=axios.create({baseURL:process.env.NODE_ENV==='production'?'https://portfoliobackend-production-a8a7.up.railway.app/api/'// Added https:// and /api/\n:'http://localhost:8000/api/',withCredentials:true,// Required for CSRF and session cookies\nheaders:{'Content-Type':'application/json','X-CSRFToken':getCSRFToken()// Will be dynamically set for modifying requests\n}});// Add a request interceptor to update CSRF token before mutating requests\napi.interceptors.request.use(config=>{if(['post','put','patch','delete'].includes(config.method.toLowerCase())){config.headers['X-CSRFToken']=getCSRFToken();}return config;});export const getProjects=()=>api.get('projects/');export const getProject=id=>api.get(`projects/${id}/`);export const getExperiences=()=>api.get('experience/');export const getSkills=()=>api.get('skills/');export const getPublications=()=>api.get('publications/');export const getProfiles=()=>api.get('profile/');export default api;","map":{"version":3,"names":["axios","getCSRFToken","_document$cookie$spli","cookieValue","document","cookie","split","find","row","startsWith","api","create","baseURL","process","env","NODE_ENV","withCredentials","headers","interceptors","request","use","config","includes","method","toLowerCase","getProjects","get","getProject","id","getExperiences","getSkills","getPublications","getProfiles"],"sources":["/home/navid/portfolio/portfolio_frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Helper function to get CSRF token from cookies\nconst getCSRFToken = () => {\n  const cookieValue = document.cookie\n    .split('; ')\n    .find(row => row.startsWith('csrftoken='))\n    ?.split('=')[1];\n  return cookieValue;\n};\n\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'production'\n    ? 'https://portfoliobackend-production-a8a7.up.railway.app/api/'  // Added https:// and /api/\n    : 'http://localhost:8000/api/',\n  withCredentials: true,  // Required for CSRF and session cookies\n  headers: {\n    'Content-Type': 'application/json',\n    'X-CSRFToken': getCSRFToken()  // Will be dynamically set for modifying requests\n  }\n});\n\n// Add a request interceptor to update CSRF token before mutating requests\napi.interceptors.request.use(config => {\n  if (['post', 'put', 'patch', 'delete'].includes(config.method.toLowerCase())) {\n    config.headers['X-CSRFToken'] = getCSRFToken();\n  }\n  return config;\n});\n\nexport const getProjects = () => api.get('projects/');\nexport const getProject = (id) => api.get(`projects/${id}/`);\nexport const getExperiences = () => api.get('experience/');\nexport const getSkills = () => api.get('skills/');\nexport const getPublications = () => api.get('publications/');\nexport const getProfiles = () => api.get('profile/');\n\nexport default api;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CACzB,KAAM,CAAAC,WAAW,EAAAD,qBAAA,CAAGE,QAAQ,CAACC,MAAM,CAChCC,KAAK,CAAC,IAAI,CAAC,CACXC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,UAAU,CAAC,YAAY,CAAC,CAAC,UAAAP,qBAAA,iBAFxBA,qBAAA,CAGhBI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACjB,MAAO,CAAAH,WAAW,CACpB,CAAC,CAED,KAAM,CAAAO,GAAG,CAAGV,KAAK,CAACW,MAAM,CAAC,CACvBC,OAAO,CAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAC1C,8DAAgE;AAAA,CAChE,4BAA4B,CAChCC,eAAe,CAAE,IAAI,CAAG;AACxBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,aAAa,CAAEhB,YAAY,CAAC,CAAG;AACjC,CACF,CAAC,CAAC,CAEF;AACAS,GAAG,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,EAAI,CACrC,GAAI,CAAC,MAAM,CAAE,KAAK,CAAE,OAAO,CAAE,QAAQ,CAAC,CAACC,QAAQ,CAACD,MAAM,CAACE,MAAM,CAACC,WAAW,CAAC,CAAC,CAAC,CAAE,CAC5EH,MAAM,CAACJ,OAAO,CAAC,aAAa,CAAC,CAAGhB,YAAY,CAAC,CAAC,CAChD,CACA,MAAO,CAAAoB,MAAM,CACf,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAI,WAAW,CAAGA,CAAA,GAAMf,GAAG,CAACgB,GAAG,CAAC,WAAW,CAAC,CACrD,MAAO,MAAM,CAAAC,UAAU,CAAIC,EAAE,EAAKlB,GAAG,CAACgB,GAAG,CAAC,YAAYE,EAAE,GAAG,CAAC,CAC5D,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAA,GAAMnB,GAAG,CAACgB,GAAG,CAAC,aAAa,CAAC,CAC1D,MAAO,MAAM,CAAAI,SAAS,CAAGA,CAAA,GAAMpB,GAAG,CAACgB,GAAG,CAAC,SAAS,CAAC,CACjD,MAAO,MAAM,CAAAK,eAAe,CAAGA,CAAA,GAAMrB,GAAG,CAACgB,GAAG,CAAC,eAAe,CAAC,CAC7D,MAAO,MAAM,CAAAM,WAAW,CAAGA,CAAA,GAAMtB,GAAG,CAACgB,GAAG,CAAC,UAAU,CAAC,CAEpD,cAAe,CAAAhB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}